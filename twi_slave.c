/*
*******************************************************************************
** Name  : twi_slave.c
** Date  : 02.04.2023
** By    : I.Zaicev
** Notes :
*******************************************************************************
*/
#include "twi_slave.h"


/*
*******************************************************************************
**                        Variables
*******************************************************************************
*/

/*$PAGE$*/
/*
*******************************************************************************
** Description :
** Parameter   : none
** Return      : none
** Notes       :
*******************************************************************************
*/
ISR ( TWI_vect )
{
	
}
/*$PAGE$*/
/*
*******************************************************************************
** Description :
** Parameter   : none
** Return      : none
** Notes       : 
*******************************************************************************
*/
void i2c_init ( void )
{
	cli();
	// load address into TWI address register
	TWAR = 28 << 1;
	// set the TWCR to enable address matching and enable TWI, clear TWINT, enable TWI interrupt
	TWCR = (1<<TWIE) | (1<<TWEA) | (1<<TWINT) | (1<<TWEN);
	// Fscl = Fcpu / ( 16 + 2(TWBR) - 4**TWPS )
	//TWBR = 32;           // 100 kÃö
	//TWPS = 0;
	sei();
}
/*$PAGE$*/
/*
*******************************************************************************
** Description :
** Parameter   : none
** Return      : none
** Notes       :
*******************************************************************************
*/
void i2c_stop ( void )
{
	
}
/*$PAGE$*/
/*
*******************************************************************************
** Description :
** Parameter   : none
** Return      : none
** Notes       :
*******************************************************************************
*/
void I2C_setCallbacks(void (*recv)(uint8_t), void (*req)())
{
	
}